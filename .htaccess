# Nonaktifkan Directory Listing
Options -Indexes

# Izinkan hanya file HTML, CSS, JS, gambar, font, dan halaman cf-403
<FilesMatch "\.(html?|css|js|jpg|jpeg|png|gif|webp|ico|svg|woff2?|ttf|eot)$">
    Require all granted
</FilesMatch>
<Files cf-403.html>
    Require all granted
</Files>

# Redirect folder/file sensitif ke halaman error Cloudflare
RedirectMatch 302 ^/(vendor|storage|config|\.git|node_modules|tests|\.env|composer\.(json|lock)|package\.json)$ https://bpdaskonaweha.id/cf-403.html

# Redirect semua file lain (yang tidak diizinkan di atas), tapi jangan cf-403.html
RewriteEngine On
RewriteCond %{REQUEST_URI} !^/cf-403.html$
RewriteCond %{REQUEST_URI} !\.(html?|css|js|jpg|jpeg|png|gif|webp|ico|svg|woff2?|ttf|eot)$ [NC]
RewriteRule ^.*$ https://bpdaskonaweha.id/cf-403.html [R=302,L]